# -*- coding:utf-8 -*- 
#!/usr/bin/python

ENG = {
	'I@':'I&$',
	'e@':'E&$',
	'U@':'U&$',
	'tS':'t&S', 
	'dZ':'d&Z',
	'eI':'e&I',
	'aI':'a&I',
	'OI':'O&I',
	'@U':'o&U',
	'aU':'a&U',
	'p':'p',
	'b':'b',
	't':'t',
	'd':'d',
	'k':'k',
	'x':'k',
	'g':'g',
	'G':'g',
	'f':'f',
	'v':'v',
	'T':'T',
	'D':'D',
	's':'s',
	'z':'z',
	'S':'S',
	'Z':'Z',
	'h':'h',
	'm':'m',
	'n':'n',
	'N':'nK',
	'r':'R+',
	'l':'l',
	'w':'w',
	'j':'j',
	'I':'I',
	'e':'E',
	'{':'@',
	'Q':'A+',
	'V':'^',
	'U':'U',
	'@':'$',
	'i':'i', 
	'u':'u',
	'3':'E0',
	'A':'A',
	'a':'A',
	'O':'O',
	'"':"'",
	'%':"'2",
	'|':'.',
	' ':'_',
	'=':'%)'
}

ARW = {
"""b""" : """b""",
"""t""" : """t""",
"""d""" : """d""",
"""k""" : """k""",
"""g""" : """g""",
"""q""" : """q""",
"""?""" : """?""",
"""t_?""" : """t%K""",
"""d_?""" : """d%K""",
"""D_?""" : """D%K""",
"""s_?""" : """s%K""",
"""f""" : """f""",
"""T""" : """T""",
"""D""" : """D""",
"""s""" : """s""",
"""z""" : """z""",
"""S""" : """S""",
"""x""" : """X""",
"""G""" : """R\\""",
"""X\\""" : """h-""",
"""?\\""" : """?\\""",
"""h""" : """h6""",
"""dZ""" : """dz~""",
"""l""" : """l""",
"""l_?""" : """l""",
"""r""" : """r6""",
"""w""" : """w""",
"""j""" : """j""",
"""m""" : """m""",
"""n""" : """n""",
"""a""" : """@""",
"""i""" : """i""",
"""u""" : """u""",
"""a:""" : """@:""",
"""i:""" : """i:""",
"""u:""" : """u:""",
"""e:""" : """e""",
"""o:""" : """O:""",
"""\"""" : """'""",
"""|""" : """.""",
""" """ : """_""",
"""b|b""" : """.b:""",
"""t|t""" : """.t:""",
"""d|d""" : """.d:""",
"""k|k""" : """.k:""",
"""g|g""" : """.g:""",
"""f|f""" : """.f:""",
"""s|s""" : """.s:""",
"""S|S""" : """.S:""",
"""m|m""" : """.m:""",
"""n|n""" : """.n:""",
"""l|l""" : """.l:""",
"""l_?|l_?""" : """.l:""",
"""l|l_?""" : """.l:""",
"""j|j""" : """.j:""",
"""w|w""" : """.w:""",
"""z|z""" : """.z:""",
"""dZ|dZ""" : """.dz~:""",
"""d|dZ""" : """.dz~:""",
"""T|T""" : """.T:""",
"""X\\|X\\""" : """.h-:""",
"""x|x""" : """.X:""",
"""D|D""" : """.D:""",
"""s_?|s_?""" : """.s:%K""",
"""d_?|d_?""" : """.d:%K""",
"""t_?|t_?""" : """.t:%K""",
"""D_?|D_?""" : """.D:%K""",
"""s|s_?""" : """.s:%K""",
"""d|d_?""" : """.d:%K""",
"""t|t_?""" : """.t:%K""",
"""D|D_?""" : """.D:%K""",
"""?\\|?\\""" : """.?\\:""",
"""G|G""" : """.R\\:""",
"""q|q""" : """.q:""",
"""h|h""" : """.h6:""",
"""b|"b""" : """.'b:""",
"""t|"t""" : """.'t:""",
"""d|"d""" : """.'d:""",
"""k|"k""" : """.'k:""",
"""g|"g""" : """.'g:""",
"""f|"f""" : """.'f:""",
"""s|"s""" : """.'s:""",
"""S|"S""" : """.'S:""",
"""m|"m""" : """.'m:""",
"""n|"n""" : """.'n:""",
"""l|"l""" : """.'l:""",
"""l_?|"l_?""" : """.'l:""",
"""l|"l_?""" : """.'l:""",
"""j|"j""" : """.'j:""",
"""w|"w""" : """.'w:""",
"""z|"z""" : """.'z:""",
"""dZ|"dZ""" : """.'dz~:""",
"""d|"dZ""" : """.'dz~:""",
"""T|"T""" : """.'T:""",
"""X\\|"X\\""" : """.'h-:""",
"""x|"x""" : """.'X:""",
"""D|"D""" : """.'D:""",
"""s_?|"s_?""" : """.'s:%K""",
"""d_?|"d_?""" : """.'d:%K""",
"""t_?|"t_?""" : """.'t:%K""",
"""D_?|"D_?""" : """.'D:%K""",
"""s|"s_?""" : """.'s:%K""",
"""d|"d_?""" : """.'d:%K""",
"""t|"t_?""" : """.'t:%K""",
"""D|"D_?""" : """.'D:%K""",
"""?\\|"?\\""" : """.'?\\:""",
"""G|"G""" : """.'R\\:""",
"""q|"q""" : """.'q:""",
"""h|"h""" : """.'h6:""",
"""ax""" : """AX""",
"""xa""" : """XA""",
"""a:x""" : """A:X""",
"""xa:""" : """XA:""",
"""a|x""" : """A.X""",
"""x|a""" : """X.A""",
"""a:|x""" : """A:.X""",
"""x|a:""" : """X.A:""",
"""a|"x""" : """A.'X""",
"""x|"a""" : """X.'A""",
"""a:|"x""" : """A:.'X""",
"""x|"a:""" : """X.'A:""",
"""aG""" : """AR\\""",
"""Ga""" : """R\\A""",
"""a:G""" : """A:R\\""",
"""Ga:""" : """R\\A:""",
"""a|G""" : """A.R\\""",
"""G|a""" : """R\\.A""",
"""a:|G""" : """A:.R\\""",
"""G|a:""" : """R\\.A:""",
"""a|"G""" : """A.'R\\""",
"""G|"a""" : """R\\.'A""",
"""a:|"G""" : """A:.'R\\""",
"""G|"a:""" : """R\\.'A:""",
"""aq""" : """Aq""",
"""qa""" : """qA""",
"""a:q""" : """A:q""",
"""qa:""" : """qA:""",
"""a|q""" : """A.q""",
"""q|a""" : """q.A""",
"""a:|q""" : """A:.q""",
"""q|a:""" : """q.A:""",
"""a|"q""" : """A.'q""",
"""q|"a""" : """q.'A""",
"""a:|"q""" : """A:.'q""",
"""q|"a:""" : """q.'A:""",
"""ar""" : """Ar6""",
"""ra""" : """r6A""",
"""a:r""" : """A:r6""",
"""ra:""" : """r6A:""",
"""a|r""" : """A.r6""",
"""r|a""" : """r6.A""",
"""a:|r""" : """A:.r6""",
"""r|a:""" : """r6.A:""",
"""a|"r""" : """A.'r6""",
"""r|"a""" : """r6.'A""",
"""a:|"r""" : """A:.'r6""",
"""r|"a:""" : """r6.'A:""",
"""as_?""" : """As%K""",
"""s_?a""" : """s%KA""",
"""a:s_?""" : """A:s%K""",
"""s_?a:""" : """s%KA:""",
"""a|s_?""" : """A.s%K""",
"""s_?|a""" : """s%K.A""",
"""a:|s_?""" : """A:.s%K""",
"""s_?|a:""" : """s%K.A:""",
"""a|"s_?""" : """A.'s%K""",
"""s_?|"a""" : """s%K.'A""",
"""a:|"s_?""" : """A:.'s%K""",
"""s_?|"a:""" : """s%K.'A:""",
"""ad_?""" : """Ad%K""",
"""d_?a""" : """d%KA""",
"""a:d_?""" : """A:d%K""",
"""d_?a:""" : """d%KA:""",
"""a|d_?""" : """A.d%K""",
"""d_?|a""" : """d%K.A""",
"""a:|d_?""" : """A:.d%K""",
"""d_?|a:""" : """d%K.A:""",
"""a|"d_?""" : """A.'d%K""",
"""d_?|"a""" : """d%K.'A""",
"""a:|"d_?""" : """A:.'d%K""",
"""d_?|"a:""" : """d%K.'A:""",
"""at_?""" : """At%K""",
"""t_?a""" : """t%KA""",
"""a:t_?""" : """A:t%K""",
"""t_?a:""" : """t%KA:""",
"""a|t_?""" : """A.t%K""",
"""t_?|a""" : """t%K.A""",
"""a:|t_?""" : """A:.t%K""",
"""t_?|a:""" : """t%K.A:""",
"""a|"t_?""" : """A.'t%K""",
"""t_?|"a""" : """t%K.'A""",
"""a:|"t_?""" : """A:.'t%K""",
"""t_?|"a:""" : """t%K.'A:""",
"""aD_?""" : """AD%K""",
"""D_?a""" : """D%KA""",
"""a:D_?""" : """A:D%K""",
"""D_?a:""" : """D%KA:""",
"""a|D_?""" : """A.D%K""",
"""D_?|a""" : """D%K.A""",
"""a:|D_?""" : """A:.D%K""",
"""D_?|a:""" : """D%K.A:""",
"""a|"D_?""" : """A.'D%K""",
"""D_?|"a""" : """D%K.'A""",
"""a:|"D_?""" : """A:.'D%K""",
"""D_?|"a:""" : """D%K.'A:""",
"""ax|x""" : """A.X:""",
"""x|xa""" : """.X:A""",
"""a:x|x""" : """A:.X:""",
"""x|xa:""" : """.X:A:""",
"""ax|"x""" : """A.'X:""",
"""x|"xa""" : """.'X:A""",
"""a:x|"x""" : """A:.'X:""",
"""x|"xa:""" : """.'X:A:""",
"""aG|G""" : """A.R\\:""",
"""G|Ga""" : """.R\\:A""",
"""a:G|G""" : """A:.R\\:""",
"""G|Ga:""" : """.R\\:A:""",
"""aG|"G""" : """A.'R\\:""",
"""G|"Ga""" : """.'R\\:A""",
"""a:G|"G""" : """A:.'R\\:""",
"""G|"Ga:""" : """.'R\\:A:""",
"""aq|q""" : """A.q:""",
"""q|qa""" : """.q:A""",
"""a:q|q""" : """A:.q:""",
"""q|qa:""" : """.q:A:""",
"""aq|"q""" : """A.'q:""",
"""qq|"a""" : """.'q:A""",
"""a:q|"q""" : """A:.'q:""",
"""q|"qa:""" : """.'q:A:""",
"""as_?|s_?""" : """A.s:%K""",
"""as|s_?""" : """A.s:%K""",
"""s_?|s_?a""" : """.s:%KA""",
"""s|s_?a""" : """.s:%KA""",
"""a:s_?|s_?""" : """A:.s:%K""",
"""a:s|s_?""" : """A:.s:%K""",
"""s_?|s_?a:""" : """.s:%KA:""",
"""s|s_?a:""" : """.s:%KA:""",
"""as_?|"s_?""" : """A.'s:%K""",
"""as|"s_?""" : """A.'s:%K""",
"""s_?|"s_?a""" : """.'s:%KA""",
"""s|"s_?a""" : """.'s:%KA""",
"""a:s_?|"s_?""" : """A:.'s:%K""",
"""a:s|"s_?""" : """A:.'s:%K""",
"""s_?|"s_?a:""" : """.'s:%KA:""",
"""s|"s_?a:""" : """.'s:%KA:""",
"""ad_?|d_?""" : """A.d:%K""",
"""ad|d_?""" : """A.d:%K""",
"""d_?|d_?a""" : """.d:%KA""",
"""d|d_?a""" : """.d:%KA""",
"""a:d_?|d_?""" : """A:.d:%K""",
"""a:d|d_?""" : """A:.d:%K""",
"""d_?|d_?a:""" : """.d:%KA:""",
"""d|d_?a:""" : """.d:%KA:""",
"""ad_?|"d_?""" : """A.'d:%K""",
"""ad|"d_?""" : """A.'d:%K""",
"""d_?|"d_?a""" : """.'d:%KA""",
"""d|"d_?a""" : """.'d:%KA""",
"""a:d_?|"d_?""" : """A:.'d:%K""",
"""a:d|"d_?""" : """A:.'d:%K""",
"""d_?|"d_?a:""" : """.'d:%KA:""",
"""d|"d_?a:""" : """.'d:%KA:""",
"""at_?|t_?""" : """A.t:%K""",
"""at|t_?""" : """A.t:%K""",
"""t_?|t_?a""" : """.t:%KA""",
"""t|t_?a""" : """.t:%KA""",
"""a:t_?|t_?""" : """A:.t:%K""",
"""a:t|t_?""" : """A:.t:%K""",
"""t_?|t_?a:""" : """.t:%KA:""",
"""t|t_?a:""" : """.t:%KA:""",
"""at_?|"t_?""" : """A.'t:%K""",
"""at|"t_?""" : """A.'t:%K""",
"""t_?|"t_?a""" : """.'t:%KA""",
"""t|"t_?a""" : """.'t:%KA""",
"""a:t_?|"t_?""" : """A:.'t:%K""",
"""a:t|"t_?""" : """A:.'t:%K""",
"""t_?|"t_?a:""" : """.'t:%KA:""",
"""t|"t_?a:""" : """.'t:%KA:""",
"""aD_?|D_?""" : """A.D:%K""",
"""aD|D_?""" : """A.D:%K""",
"""D_?|D_?a""" : """.D:%KA""",
"""D|D_?a""" : """.D:%KA""",
"""a:D_?|D_?""" : """A:.D:%K""",
"""a:D|D_?""" : """A:.D:%K""",
"""D_?|D_?a:""" : """.D:%KA:""",
"""D|D_?a:""" : """.D:%KA:""",
"""aD_?|"D_?""" : """A.'D:%K""",
"""aD|"D_?""" : """A.'D:%K""",
"""D_?|"D_?a""" : """.'D:%KA""",
"""D|"D_?a""" : """.'D:%KA""",
"""a:D_?|"D_?""" : """A:.'D:%K""",
"""a:D|"D_?""" : """A:.'D:%K""",
"""D_?|"D_?a:""" : """.'D:%KA:""",
"""D|"D_?a:""" : """.'D:%KA:""",
"""a|xi""" : """@.Xi""",
"""a:|xi""" : """@:.Xi""",
"""a|"xi""" : """@.'Xi""",
"""a:|"xi""" : """@:.'Xi""",
"""a|xi:""" : """@.Xi:""",
"""a:|xi:""" : """@:.Xi:""",
"""a|"xi:""" : """@.'Xi:""",
"""a:|"xi:""" : """@:.'Xi:""",
"""a|xu""" : """@.Xu""",
"""a:|xu""" : """@:.Xu""",
"""a|"xu""" : """@.'Xu""",
"""a:|"xu""" : """@:.'Xu""",
"""a|xu:""" : """@.Xu:""",
"""a:|xu:""" : """@:.Xu:""",
"""a|"xu:""" : """@.'Xu:""",
"""a:|"xu:""" : """@:.'Xu:""",
"""a|ri""" : """@.r6i""",
"""a:|ri""" : """@:.r6i""",
"""a|"ri""" : """@.'r6i""",
"""a:|"ri""" : """@:.'r6i""",
"""a|ri:""" : """@.r6i:""",
"""a:|ri:""" : """@:.r6i:""",
"""a|"ri:""" : """@.'r6i:""",
"""a:|"ri:""" : """@:.'r6i:""",
"""a|ru""" : """@.r6u""",
"""a:|ru""" : """@:.r6u""",
"""a|"ru""" : """@.'r6u""",
"""a:|"ru""" : """@:.'r6u""",
"""a|ru:""" : """@.r6u:""",
"""a:|ru:""" : """@:.r6u:""",
"""a|"ru:""" : """@.'r6u:""",
"""a:|"ru:""" : """@:.'r6u:""",
"""a|Gi""" : """@.R\\i""",
"""a:|Gi""" : """@:.R\\i""",
"""a|"Gi""" : """@.'R\\i""",
"""a:|"Gi""" : """@:.'R\\i""",
"""a|Gi:""" : """@.R\\i:""",
"""a:|Gi:""" : """@:.R\\i:""",
"""a|"Gi:""" : """@.'R\\i:""",
"""a:|"Gi:""" : """@:.'R\\i:""",
"""a|Gu""" : """@.R\\u""",
"""a:|Gu""" : """@:.R\\u""",
"""a|"Gu""" : """@.'R\\u""",
"""a:|"Gu""" : """@:.'R\\u""",
"""a|Gu:""" : """@.R\\u:""",
"""a:|Gu:""" : """@:.R\\u:""",
"""a|"Gu:""" : """@.'R\\u:""",
"""a:|"Gu:""" : """@:.'R\\u:""",
"""a|qi""" : """@.qi""",
"""a:|qi""" : """@:.qi""",
"""a|"qi""" : """@.'qi""",
"""a:|"qi""" : """@:.'qi""",
"""a|qi:""" : """@.qi:""",
"""a:|qi:""" : """@:.qi:""",
"""a|"qi:""" : """@.'qi:""",
"""a:|"qi:""" : """@:.'qi:""",
"""a|qu""" : """@.qu""",
"""a:|qu""" : """@:.qu""",
"""a|"qu""" : """@.'qu""",
"""a:|"qu""" : """@:.'qu""",
"""a|qu:""" : """@.qu:""",
"""a:|qu:""" : """@:.qu:""",
"""a|"qu:""" : """@.'qu:""",
"""a:|"qu:""" : """@:.'qu:""",
"""ax|xi""" : """@.X:i""",
"""a:x|xi""" : """@:.X:i""",
"""ax|"xi""" : """@.'X:i""",
"""a:x|"xi""" : """@:.'X:i""",
"""ax|xi:""" : """@.X:i:""",
"""a:x|xi:""" : """@:.X:i:""",
"""ax|"xi:""" : """@.'X:i:""",
"""a:x|"xi:""" : """@:.'X:i:""",
"""ax|xu""" : """@.X:u""",
"""a:x|xu""" : """@:.X:u""",
"""ax|"xu""" : """@.'X:u""",
"""a:x|"xu""" : """@:.'X:u""",
"""ax|xu:""" : """@.X:u:""",
"""a:x|xu:""" : """@:.X:u:""",
"""ax|"xu:""" : """@.'X:u:""",
"""a:x|"xu:""" : """@:.'X:u:""",
"""aG|Gi""" : """@.R\\:i""",
"""a:G|Gi""" : """@:.R\\:i""",
"""aG|"Gi""" : """@.'R\\:i""",
"""a:G|"Gi""" : """@:.'R\\:i""",
"""aG|Gi:""" : """@.R\\:i:""",
"""a:G|Gi:""" : """@:.R\\:i:""",
"""aG|"Gi:""" : """@.'R\\:i:""",
"""a:G|"Gi:""" : """@:.'R\\:i:""",
"""aG|Gu""" : """@.R\\:u""",
"""a:G|Gu""" : """@:.R\\:u""",
"""aG|"Gu""" : """@.'R\\:u""",
"""a:G|"Gu""" : """@:.'R\\:u""",
"""aG|Gu:""" : """@.R\\:u:""",
"""a:G|Gu:""" : """@:.R\\:u:""",
"""aG|"Gu:""" : """@.'R\\:u:""",
"""a:G|"Gu:""" : """@:.'R\\:u:""",
"""aq|qi""" : """@.q:i""",
"""a:q|qi""" : """@:.q:i""",
"""aq|"qi""" : """@.'q:i""",
"""a:q|"qi""" : """@:.'q:i""",
"""aq|qi:""" : """@.q:i:""",
"""a:q|qi:""" : """@:.q:i:""",
"""aq|"qi:""" : """@.'q:i:""",
"""a:q|"qi:""" : """@:.'q:i:""",
"""aq|qu""" : """@.q:u""",
"""a:q|qu""" : """@:.q:u""",
"""aq|"qu""" : """@.'q:u""",
"""a:q|"qu""" : """@:.'q:u""",
"""aq|qu:""" : """@.q:u:""",
"""a:q|qu:""" : """@:.q:u:""",
"""aq|"qu:""" : """@.'q:u:""",
"""a:q|"qu:""" : """@:.'q:u:""",
"""N""" : """nK""",
"""'""":"""'""",
"""t:""":"""t:"""
}

THT = {
    'p':'p',
    'ph':'p%{',
    'b':'b',
    't':'t',
    'th':'t%{',
    'd':'d',
    'c':'c',
    'ch':'c%{',
    'k':'k',
    'kh':'k%{',
    '?':'?',
    'f':'f',
    's':'s',
    'h':'h',
    'l':'l',
    'r':'r6',
    'w':'w',
    'j':'j',
    'm':'m',
    'n':'n',
    'N':'nK',
    'i':'i',
    'M':'u-',
    'u':'u',
    'e':'e',
    'o':'o',
    'E':'E',	
    'a':'a',
    'O':'O',
    'i:':'i:',
    'M:':'u-:',
    'u:':'u:',
    'e:':'e:',
    'o:':'o:',
    'E:':'E:',
    'a:':'a:',
    'O:':'O:',
    'ia':'i:&a',
    'ua':'u:&a',
    'Ma':'u-:&a',
    ' ':'_',
    '_':'_',
    '|':'|',
    '1':'1',
    '2':'2',
    '3':'3',
    '4':'4',
    '5':'5'
}

TWN = { 
    'ㄅ':'b',
    'ㄆ':'p',
    'ㄇ':'m',
    'ㄈ':'f',
    'ㄉ':'d',
    'ㄊ':'t',
    'ㄋ':'n',
    'ㄌ':'l',
    'ㄍ':'g',
    'ㄎ':'k',
    'ㄏ':'h',
    'ㄐ':'j',
    'ㄑ':'q',
    'ㄒ':'x',
    'ㄚ':'a',
    'ㄛ':'o',
    'ㄜ':'e',
    'ㄝ':'e',
    'ㄞ':'ai',
    'ㄟ':'ei',
    'ㄠ':'ao',
    'ㄡ':'ou',
    'ㄢ':'an',
    'ㄣ':'en',
    'ㄤ':'ang',
    'ㄥ':'eng',
    'ㄦ':'er',
    'ㄧ':'yi',
    'ㄧㄣ':'yin',
    'ㄧㄥ':'ying',
    'ㄧㄚ':'ya',
    'ㄧㄢ':'yan',
    'ㄧㄤ':'yang',
    'ㄧㄠ':'yao',
    'ㄧㄝ':'ye',
    'ㄧㄡ':'you',
    'ㄅㄧ':'bi',
    'ㄅㄧㄣ':'bin',
    'ㄅㄧㄥ':'bing',
    'ㄆㄧ':'pi',
    'ㄆㄧㄣ':'pin',
    'ㄆㄧㄥ':'ping',
    'ㄇㄧ':'mi',
    'ㄇㄧㄣ':'min',
    'ㄇㄧㄥ':'ming',
    'ㄇㄧㄡ':'miu',
    'ㄉㄧ':'di',
    'ㄉㄧㄥ':'ding',
    'ㄊㄧ':'ti',
    'ㄊㄧㄥ':'ting',
    'ㄋㄧ':'ni',
    'ㄋㄧㄣ':'nin',
    'ㄋㄧㄡ':'niu',
    'ㄋㄧㄥ':'ning',
    'ㄌㄧ':'li',
    'ㄌㄧㄣ':'lin',
    'ㄌㄧㄥ':'ling',
    'ㄌㄧㄡ':'liu',
    'ㄐㄧ':'ji',
    'ㄐㄧㄣ':'jin',
    'ㄐㄧㄥ':'jing',
    'ㄐㄧㄡ':'jiu',
    'ㄑㄧ':'qi',
    'ㄑㄧㄣ':'qin',
    'ㄑㄧㄥ':'qing',
    'ㄑㄧㄡ':'qiu',
    'ㄒㄧ':'xi',
    'ㄒㄧㄣ':'xin',
    'ㄒㄧㄥ':'xing',
    'ㄒㄧㄡ':'xiu',
    'ㄩ':'yu',
    'ㄩㄝ':'yue',
    'ㄩㄢ':'yuan',
    'ㄩㄣ':'yun',
    'ㄩㄥ':'yong',
    'ㄨ':'wu',
    'ㄅㄨ':'bu',
    'ㄆㄨ':'pu',
    'ㄇㄨ':'mu',
    'ㄉㄨ':'du',
    'ㄊㄨ':'tu',
    'ㄋㄨ':'nu',
    'ㄌㄨ':'lu',
    'ㄖㄨ':'ru',
    'ㄙㄨ':'su',
    'ㄈㄨ':'fu',
    'ㄍㄨ':'gu',
    'ㄏㄨ':'hu',
    'ㄎㄨ':'ku',
    'ㄗㄨ':'zu',
    'ㄘㄨ':'cu',
    'ㄔㄨ':'chu',
    'ㄓㄨ':'zhu',
    'ㄕㄨ':'shu',
    'ㄊㄨㄟ':'tui',
    'ㄖㄨㄟ':'rui',
    'ㄙㄨㄟ':'sui',
    'ㄍㄨㄟ':'gui',
    'ㄏㄨㄟ':'hui',
    'ㄎㄨㄟ':'kui',
    'ㄗㄨㄟ':'zui',
    'ㄘㄨㄟ':'cui',
    'ㄔㄨㄟ':'chui',
    'ㄓㄨㄟ':'zhui',
    'ㄕㄨㄟ':'shui',
    'ㄊㄨㄣ':'tun',
    'ㄋㄨㄣ':'nun',
    'ㄑㄩㄣ':'qun',
    'ㄌㄨㄣ':'lun',
    'ㄖㄨㄣ':'run',
    'ㄙㄨㄣ':'sun',
    'ㄍㄨㄣ':'gun',
    'ㄏㄨㄣ':'hun',
    'ㄎㄨㄣ':'kun',
    'ㄗㄨㄣ':'zun',
    'ㄘㄨㄣ':'cun',
    'ㄔㄨㄣ':'chun',
    'ㄓㄨㄣ':'zhun',
    'ㄕㄨㄣ':'shun',       
    'ㄨㄚ':'wa',
    'ㄨㄞ':'wai',
    'ㄨㄢ':'wan',
    'ㄨㄤ':'wang',
    'ㄨㄛ':'wo',
    'ㄨㄟ':'wei',
    'ㄨㄣ':'wen',
    'ㄨㄥ':'weng',
    'ㄊㄨㄥ':'tong',
    'ㄋㄨㄥ':'nong',
    'ㄌㄨㄥ':'long',
    'ㄍㄨㄥ':'gong',
    'ㄉㄨㄥ':'dong',
    'ㄎㄨㄥ':'kong',
    'ㄏㄨㄥ':'hong',
    'ㄓㄨㄥ':'zhong',
    'ㄔㄨㄥ':'chong',
    'ㄖㄨㄥ':'rong',
    'ㄗㄨㄥ':'zong',
    'ㄘㄨㄥ':'cong',
    'ㄙㄨㄥ':'song',
    'ㄑㄧㄨㄥ':'qiong',
    'ㄒㄧㄨㄥ':'xiong',
    'ㄅㄛ':'bo',
    'ㄆㄛ':'po',
    'ㄇㄛ':'mo',
    'ㄈㄥ':'feng',
    'ㄉㄧㄡ':'diu',
    'ㄉㄨㄟ':'dui',
    'ㄉㄨㄣ':'dun',
    'ㄊㄜ':'te',
    'ㄋㄩ':'nu',
    'ㄌㄩ':'lu',
    'ㄒㄩ':'xu',
    'ㄐㄩ':'ju',
    'ㄑㄩ':'qu',
    'ㄍㄜㄦ':'ger',
    'ㄎㄜ':'ke',
    'ㄏㄜ':'he',
    'ㄐㄧㄢ':'jian',
    'ㄐㄩㄥ':'jiong',
    'ㄑㄧㄣ':'qin',
    'ㄒㄩㄢ':'xuan',
    'ㄓ':'zhi',
    'ㄓㄜ':'zhe',
    'ㄓㄚ':'zha',
    'ㄓㄞ':'zhai',
    'ㄓㄠ':'zhao',
    'ㄓㄡ':'zhou',
    'ㄓㄢ':'zhan',
    'ㄓㄣ':'zhen',
    'ㄓㄤ':'zhang',
    'ㄓㄥ':'zheng',
    'ㄔ':'chi',
    'ㄔㄜ':'che',
    'ㄔㄚ':'cha',
    'ㄔㄞ':'chai',
    'ㄔㄠ':'chao',
    'ㄔㄡ':'chou',
    'ㄔㄢ':'chan',
    'ㄔㄣ':'chen',
    'ㄔㄤ':'chang',
    'ㄔㄥ':'cheng',
    'ㄕ':'shi',
    'ㄕㄜ':'she',
    'ㄕㄚ':'sha',
    'ㄕㄞ':'shai',
    'ㄕㄟ':'shei',
    'ㄕㄠ':'shao',
    'ㄕㄡ':'shou',
    'ㄕㄢ':'shan',
    'ㄕㄣ':'shen',
    'ㄕㄤ':'shang',
    'ㄕㄥ':'sheng',
    'ㄖ':'ri',
    'ㄖㄜ':'re',
    'ㄖㄠ':'rao',
    'ㄖㄡ':'rou',
    'ㄖㄢ':'ran',
    'ㄖㄣ':'ren',
    'ㄖㄤ':'rang',
    'ㄖㄥ':'reng',
    'ㄗ':'zi',
    'ㄗㄜ':'ze',
    'ㄗㄨㄛ':'zuo',
    'ㄗㄚ':'za',
    'ㄗㄞ':'zai',
    'ㄗㄟ':'zei',
    'ㄗㄠ':'zao',
    'ㄗㄡ':'zou',
    'ㄗㄢ':'zan',
    'ㄗㄣ':'zen',
    'ㄗㄤ':'zang',
    'ㄗㄥ':'zeng',
    'ㄘ':'ci',
    'ㄘㄜ':'ce',
    'ㄘㄚ':'ca',
    'ㄘㄞ':'cai',
    'ㄘㄠ':'cao',
    'ㄘㄡ':'cou',
    'ㄘㄢ':'can',
    'ㄘㄣ':'cen',
    'ㄘㄤ':'cang',
    'ㄘㄥ':'ceng',
    'ㄙ':'si',
    'ㄙㄜ':'se',
    'ㄙㄚ':'sa',
    'ㄙㄞ':'sai',
    'ㄙㄠ':'sao',
    'ㄙㄡ':'sou',
    'ㄙㄢ':'san',
    'ㄙㄣ':'sen',
    'ㄙㄤ':'sang',
    'ㄙㄥ':'seng',
    'ˉ':'1',
    'ˊ':'2',
    'ˇ':'3',
    'ˋ':'4',
    '˙':'',
    ' ':' ',
    '　':' ', 
    '１':'1',
    '２':'2',
    '３':'3',
    '４':'4',
    '５':'5',
    '６':'6',
    '７':'7',
    '８':'8',
    '９':'9',
    '０':'0',
    'Ａ':'A',
    'Ｂ':'B',
    'Ｃ':'C',
    'Ｄ':'D',
    'Ｅ':'E',
    'Ｆ':'F',
    'Ｇ':'G',
    'Ｈ':'H',
    'Ｉ':'I',
    'Ｊ':'J',
    'Ｋ':'K',
    'Ｌ':'L',
    'Ｍ':'M',
    'Ｎ':'N',
    'Ｏ':'O',
    'Ｐ':'P',
    'Ｑ':'Q',
    'Ｒ':'R',
    'Ｓ':'S',
    'Ｔ':'T',
    'Ｕ':'U',
    'Ｖ':'V',
    'Ｗ':'W',
    'Ｘ':'X',
    'Ｙ':'Y',
    'Ｚ':'Z',
    'A':'A',
    'B':'B',
    'C':'C',
    'D':'D',
    'E':'E',
    'F':'F',
    'G':'G',
    'H':'H',
    'I':'I',
    'J':'J',
    'K':'K',
    'L':'L',
    'M':'M',
    'N':'N',
    'O':'O',
    'P':'P',
    'Q':'Q',
    'R':'R',
    'S':'S',
    'T':'T',
    'U':'U',
    'V':'V',
    'W':'W',
    'X':'X',
    'Y':'Y',
    'Z':'Z',
    'ａ':'a',
    'ｂ':'b',
    'ｃ':'c',
    'ｄ':'d',
    'ｅ':'e',
    'ｆ':'f',
    'ｇ':'g',
    'ｈ':'h',
    'ｉ':'i',
    'ｊ':'j',
    'ｋ':'k',
    'ｌ':'l',
    'ｍ':'m',
    'ｎ':'n',
    'ｏ':'o',
    'ｐ':'p',
    'ｑ':'q',
    'ｒ':'r',
    'ｓ':'s',
    'ｔ':'t',
    'ｕ':'u',
    'ｖ':'v',
    'ｗ':'w',
    'ｘ':'x',
    'ｙ':'y',
    'ｚ':'z',
    'a':'a',
    'b':'b',
    'c':'c',
    'd':'d',
    'e':'e',
    'f':'f',
    'g':'g',
    'h':'h',
    'i':'i',
    'j':'j',
    'k':'k',
    'l':'l',
    'm':'m',
    'n':'n',
    'o':'o',
    'p':'p',
    'q':'q',
    'r':'r',
    's':'s',
    't':'t',
    'u':'u',
    'v':'v',
    'w':'w',
    'x':'x',
    'y':'y',
    'z':'z',
    '－':'-',
    '-':'-', 
    '（':'(',
    '）':')',
    '(':'(',
    ')':')',
    '〔':'(',
    '〕':')',
    '＆':'&',
    '＠':'@',
    '’':'’',
    '′':'′',
    '「':'「',
    '」':'」',
    'Ⅰ':'Ⅰ',
    'Ⅱ':'Ⅱ',
    '＃':'#',
    '＋':'+',
    '＊':'*',
    '／':'/',
    '、':',',
    '，':',',
    '．':'.',
    '﹒':'.',
    '！':'!',
    '∼':'~',
    '％':'%',
    '{':'{',
    '}':'}'
}

def get_max_length(phone_dict):
    max_len = 0
    for phoneme in phone_dict.keys():
        tmp = len(phoneme)
        if(tmp > max_len):
            max_len = len(phoneme)
    return max_len

PHONES = {'GFA': ARW, 'UKE': ENG, 'THA': THT, 'TWN': TWN, 'BPMF': TWN}
PHONES_maxlen = {
				'GFA': get_max_length(ARW), 
				'UKE': get_max_length(ENG), 
				'THA': get_max_length(THT), 
				'TWN': get_max_length(TWN),
				'BPMF': get_max_length(TWN),
				}

def ntsamapa2lhplus(language, ntsamp_phoneme):
    phones = PHONES[language]

    len_of_phoneme = len(ntsamp_phoneme)
    if len_of_phoneme == 0:
        raise ValueError('ntsamp_phoneme is EMPTY')

    max_len = PHONES_maxlen.get(language)
    i = 0
    lhphone = ''
    while i < len_of_phoneme:
        j = max_len
        while 0 < j:
            if i + j > len_of_phoneme:
                j -= 1
                continue
            patten = ntsamp_phoneme[i: i + j]
            if patten in phones.keys():
                if '*' == patten and '"' != ntsamp_phoneme[i + 1]:
                    raise ValueError('The nuclear stress(*), if present must immediately precede a primary stress(") symbol.')
                i += j
                lhphone += phones[patten]
                break
            elif len(patten) == 1:
                print(patten)
                raise ValueError('symbol no map')
            j -= 1
    return lhphone

def modelName():
    return "ntsamp_to_lhplus" 

class ntssampachange :
    def __init__(self, language):
        self.language = language

    def change(self, phoneme) :
        return ntsamapa2lhplus(self.language, phoneme)  

if __name__ == "__main__":
    print(ntsamapa2lhplus('THA', 's ia'))
